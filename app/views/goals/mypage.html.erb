<p id="notice"><%= notice %></p>

<h1>マイページ</h1>
<h1>参加中</h1>
    <% @goals.each do |goal| %>
    <div class="justify-start sm:justify-center md:justify-end lg:justify-between xl:justify-around">
      <div class="p-8">
        <div class="bg-white p-6 rounded-lg shadow-lg">
          <div class="flex">
            <div>
              <div class="w-10 h-10 bg-cover bg-center rounded-full mr-3 shadow-inner" style="background-image: url('http://tailwindtemplates.io/wp-content/uploads/2020/09/tf-cooper.jpg')">
              </div>
            </div>
          <div>
          <p class="text-gray-600 font-medium"><%= goal.user.name %></p>
          <div class="flex items-center text-xs text-gray-400">
            <p>
            <% if goal.category_id == 0 %>
              ダイエット
            <% elsif goal.category_id == 1 %>
              健康
            <% elsif goal.category_id == 2 %>
              読書
            <% elsif goal.category_id == 3 %>
              運動
            <% elsif goal.category_id == 4 %>
              勉強
            <% elsif goal.category_id == 5 %>
              日記・ブログ
            <% elsif goal.category_id == 6 %>
              資格
            <% elsif goal.category_id == 7 %>
              音楽
            <% elsif goal.category_id == 8 %>
              制作
            <% elsif goal.category_id == 9 %>
              チャレンジ
            <% elsif goal.category_id == 10 %>
              仕事
            <% elsif goal.category_id == 11 %>
              部活・サークル
            <% elsif goal.category_id == 12 %>
              生活
            <% elsif goal.category_id ==  %>
              未選択
            <% end %>
            /のこり
            <% if (goal.deadline - Date.today).to_i < 0 %>
              0日
            <% else %>
              <%= (goal.deadline - Date.today).to_i %>日
            <% end %>
            </p>
          </div>
        </div>
      </div>
      <div class="mt-6">
      <h2 class="text-2xl">目標:<%= goal.title %></h2>
      <p class="text-gray-600 text-sm">
        <%= goal.content %>
      </p>
      </div>
      <div class="mt-6 flex">
      <% if !current_user.nil? %>
        <button class="flex items-center hover:opacity-75 mr-4">
          <i class="mr-2">
            <svg
              class="fill-current text-blue-300 w-6 h-6"
              height="512"
              viewBox="0 0 16 16"
              width="512"
            >
              <path
                d="M0 6v8a1 1 0 001 1h3V5H1a1 1 0 00-1 1zM14.153 6H11.2a.491.491 0 01-.43-.247.492.492 0 01-.007-.496l1.041-1.875c.229-.411.252-.894.065-1.325a1.488 1.488 0 00-1.013-.858l-.734-.184a.499.499 0 00-.493.15l-3.987 4.43A2.499 2.499 0 005 7.267V12.5C5 13.878 6.122 15 7.5 15h4.974a2.506 2.506 0 002.411-1.84l1.068-4.898A1.849 1.849 0 0014.153 6z"
              />
            </svg>
          </i>
          <p class="mt-1 text-blue-400"> <%= goal.follows.length %> Join</p>
        </button>
      <% end %>
            <p><%= goal.deadline %></p>
            <br>
            <p><%= link_to '詳細', goal %>
      <% if goal.user_id == current_user.id %>
            <%= link_to '編集', edit_goal_path(goal) %>
            <%= link_to '削除', goal, method: :delete, data: { confirm: 'Are you sure?' } %></p>
      <% end %>
        </div>
      </div>
    </div>
    <% end %>
<h1>達成済み</h1>

<% @dones.each do |done| %>
  <% if (done.goal.deadline - Date.today).to_i < 0 %>
    <div class="p-8">
      <div class="bg-white p-6 rounded-lg shadow-lg">
        <div class="flex">
          <div>
            <% if !done.goal.user.img.blank? %>
              <img src = "<%= done.goal.user.img %>" alt=" " class="w-10 h-10 bg-cover bg-center rounded-full mr-3 shadow-inner">
            <% else %>
              <div class="w-10 h-10 bg-cover bg-center rounded-full mr-3 shadow-inner" style="background-image: url('http://tailwindtemplates.io/wp-content/uploads/2020/09/tf-cooper.jpg')">
              </div>
            <% end %>
          </div>
          <div>
              <p class="text-gray-600 font-medium"><%= done.goal.user.name %></p>
            <div class="flex items-center text-xs text-gray-400"></div>
          </div>
        </div>
        <div class="mt-6">
          <h2 class="text-2xl">目標:<%= done.goal.title %></h2>
            <p class="text-gray-600 text-sm"><%= done.goal.content %></p>
          </div>
          <div class="mt-6 flex">
            <div class="flex items-center opacity-75 mr-4">
              <i class="mr-2">
                <svg
                  class="fill-current text-blue-300 w-6 h-6"
                  height="512"
                  viewBox="0 0 16 16"
                  width="512"
                >
                  <path
                    d="M0 6v8a1 1 0 001 1h3V5H1a1 1 0 00-1 1zM14.153 6H11.2a.491.491 0 01-.43-.247.492.492 0 01-.007-.496l1.041-1.875c.229-.411.252-.894.065-1.325a1.488 1.488 0 00-1.013-.858l-.734-.184a.499.499 0 00-.493.15l-3.987 4.43A2.499 2.499 0 005 7.267V12.5C5 13.878 6.122 15 7.5 15h4.974a2.506 2.506 0 002.411-1.84l1.068-4.898A1.849 1.849 0 0014.153 6z"
                  />
                </svg>
              </i>
              <p class="mt-1 text-blue-400"><%= done.goal.follows.length %> Join</p>
            </div>
            <button class="flex items-center hover:opacity-75">
              <i class="mr-2">
                <svg
                  class="fill-current text-blue-300 w-6 h-6"
                  height="512"
                  viewBox="0 0 511.072 511.072"
                  width="512"
                >
                  <path
                    d="M74.39 480.536H38.177l25.607-25.607c13.807-13.807 22.429-31.765 24.747-51.246-36.029-23.644-62.375-54.751-76.478-90.425C-2.04 277.611-3.811 238.37 6.932 199.776c12.89-46.309 43.123-88.518 85.128-118.853 45.646-32.963 102.47-50.387 164.33-50.387 77.927 0 143.611 22.389 189.948 64.745 41.744 38.159 64.734 89.63 64.734 144.933 0 26.868-5.471 53.011-16.26 77.703-11.165 25.551-27.514 48.302-48.593 67.619-46.399 42.523-112.042 65-189.83 65-28.877 0-59.01-3.855-85.913-10.929-25.465 26.123-59.972 40.929-96.086 40.929zm182-420c-124.039 0-200.15 73.973-220.557 147.285-19.284 69.28 9.143 134.743 76.043 175.115l7.475 4.511-.23 8.727c-.456 17.274-4.574 33.912-11.945 48.952 17.949-6.073 34.236-17.083 46.99-32.151l6.342-7.493 9.405 2.813c26.393 7.894 57.104 12.241 86.477 12.241 154.372 0 224.682-93.473 224.682-180.322 0-46.776-19.524-90.384-54.976-122.79-40.713-37.216-99.397-56.888-169.706-56.888z"
                  />
                </svg>
              </i>
            </button>
        </div>
        <p class="text-gray-600 font-medium">締切:<%= done.goal.deadline %></p>
        <div class="mt-6 border-gray-100 border-t pt-4 flex justify-between"></div>
        </div>
      </div>
    </div>
  <% end %>
<% end %>